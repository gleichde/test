<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Validation Techniques - MISCnn wiki</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Source+Sans+Pro:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Validation Techniques";
    var mkdocs_page_input_path = "Validation.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <a href="">
        <div class="miscnn-logo">
          <img src="https://raw.githubusercontent.com/gleichde/gleichde.github.io/master/logo.JPG" class="miscnn-logo-img">
          
        </div>
      </a>

      <div class="wy-side-nav-search">
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Getting Started</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../Home/">What is MIScnn?</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../Install/">Install</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../Usage/">Basic Usage</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../Tutorials/">Tutorials</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../Examples/">Examples</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Documentation - Core</span></p>
                <ul class="current">
                    <li class="toctree-l1"><a class="reference internal" href="../Data-IO/">Data I/O</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../Preprocessor/">Preprocessor</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../Data-Augmentation/">Data Augmentation</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../Model/">Neural Network Model</a>
                    </li>
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">Validation Techniques</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#k-fold-cross-validation">k-fold Cross-Validation</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#percentage-split-validation">Percentage-Split Validation</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#leave-one-out-validation">Leave-One-Out Validation</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#detailed-validation">Detailed Validation</a>
    </li>
    </ul>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Documentation - Interfaces</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../Architectures/">Architectures</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../Metrics/">Metrics</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../Subfunctions/">Subfunctions</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../IO-Interfaces/">I/O Interfaces</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Documentation - Extras</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../Sample/">Sample</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Other</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../Contribute/">How to Contribute</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../Credits/">Author and Contacts</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">MISCnn wiki</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        
          <li>Documentation - Core &raquo;</li>
        
      
    
    <li>Validation Techniques</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/frankkramer-lab/MIScnn/"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <p>The validation is one of the key steps in any medical image analysis. The aim of the validation is to utilize the fitted model in order to provide an unbiased performance evaluation of it. The resulting validation performance can be an indicator for overfitting to the training data or the need of hyperparameter adjustment.</p>
<p>MIScnn provides the following three popular validation techniques: Cross-Validation, Percentage-Split Validation and Leave-One-Out Validation.</p>
<h2 id="methods">Methods</h2>
<h4 id="k-fold-cross-validation">k-fold Cross-Validation</h4>
<pre><code class="python">cross_validation(sample_list, model, k_fold=3, epochs=20,
                 iterations=None, evaluation_path=&quot;evaluation&quot;,
                 draw_figures=True, run_detailed_evaluation=True,
                 callbacks=[], save_models=True, direct_output=False)
</code></pre>

<p>Function for an automatic k-fold Cross-Validation of the Neural Network model by running the whole pipeline several times with different data set combinations.</p>
<p><strong>Arguments:</strong><br />
- <strong>sample_list:</strong> A list of sample indicies which will be used for validation.
- <strong>model:</strong> Instance of a Neural Network model class instance.
- <strong>k_fold:</strong> The number of k-folds for the Cross-Validation.
- <strong>epochs:</strong> Number of epochs. A single epoch is defined as one iteration through the complete data set.
- <strong>iterations:</strong> Number of iterations (batches) in a single epoch.
- <strong>evaluation_path:</strong> Path to the evaluation data directory. This directory will be created and used for storing all kinds of evaluation results during the validation processes.
- <strong>draw_figures:</strong> Boolean, whether evaluation figures should be automatically plotted in the evaluation directory.
- <strong>run_detailed_evaluation:</strong> Boolean, whether a detailed evaluation (additional prediction) should be performed.
- <strong>callbacks:</strong> A list of Callback classes for custom evaluation.
- <strong>save_models:</strong> Boolean, whether fitted models should be stored or thrown away.
- <strong>direct_output:</strong> Boolean, whether computed evaluations will be output as the return of this function or if the evaluations will be saved on disk in the evaluation directory.</p>
<p><strong>Returns:</strong><br />
None or validation results if direct_output is true. The variable validation_results is a list of Keras History objects containing all kinds of information. For each fold, a history object will created and appended to the list.</p>
<p><strong>Example:</strong>  </p>
<pre><code class="python">model = miscnn.Neural_Network(preprocessor=pp)

from miscnn.evaluation import cross_validation
cross_validation(sample_list, model, k_fold=3, epochs=50)
</code></pre>

<hr />
<h4 id="percentage-split-validation">Percentage-Split Validation</h4>
<pre><code class="python">split_validation(sample_list, model, percentage=0.2, epochs=20,
                 iterations=None, evaluation_path=&quot;evaluation&quot;,
                 draw_figures=True, run_detailed_evaluation=True,
                 callbacks=[], direct_output=False)
</code></pre>

<p>Function for an automatic Percentage-Split Validation of the Neural Network model by running the whole pipeline once with a test and train data set.</p>
<p><strong>Arguments:</strong><br />
- <strong>sample_list:</strong> A list of sample indicies which will be used for validation.
- <strong>model:</strong> Instance of a Neural Network model class instance.
- <strong>percentage:</strong> Testing set percentage of the whole sample list size.
- <strong>epochs:</strong> Number of epochs. A single epoch is defined as one iteration through the complete data set.
- <strong>iterations:</strong> Number of iterations (batches) in a single epoch.
- <strong>evaluation_path:</strong> Path to the evaluation data directory. This directory will be created and used for storing all kinds of evaluation results during the validation processes.
- <strong>draw_figures:</strong> Boolean, whether evaluation figures should be automatically plotted in the evaluation directory.
- <strong>run_detailed_evaluation:</strong> Boolean, whether a detailed evaluation (additional prediction) should be performed.
- <strong>callbacks:</strong> A list of Callback classes for custom evaluation.
- <strong>direct_output:</strong> Boolean, whether computed evaluations will be output as the return of this function or if the evaluations will be saved on disk in the evaluation directory.</p>
<p><strong>Returns:</strong><br />
None or a Keras History objects if direct_output is true.</p>
<p><strong>Example:</strong>  </p>
<pre><code class="python">model = miscnn.Neural_Network(preprocessor=pp)

from miscnn.evaluation import split_validation
split_validation(sample_list, model, percentage=0.2, epochs=50)
</code></pre>

<hr />
<h4 id="leave-one-out-validation">Leave-One-Out Validation</h4>
<pre><code class="python">leave_one_out(sample_list, model, epochs=20, iterations=None,
              callbacks=[], evaluation_path=&quot;evaluation&quot;)
</code></pre>

<p>Function for an automatic Leave-One-Out Validation of the Neural Network model by running the whole pipeline once by training on the complete data set except one sample and then predict the segmentation of the last remaining sample.</p>
<p><strong>Arguments:</strong><br />
- <strong>sample_list:</strong> A list of sample indicies which will be used for validation.
- <strong>model:</strong> Instance of a Neural Network model class instance.
- <strong>epochs:</strong> Number of epochs. A single epoch is defined as one iteration through the complete data set.
- <strong>iterations:</strong> Number of iterations (batches) in a single epoch.
- <strong>callbacks:</strong> A list of Callback classes for custom evaluation.
- <strong>evaluation_path:</strong> Path to the evaluation data directory. This directory will be created and used for storing all kinds of evaluation results during the validation processes.</p>
<p><strong>Returns:</strong>  None.</p>
<p><strong>Example:</strong>  </p>
<pre><code class="python">model = miscnn.Neural_Network(preprocessor=pp)

from miscnn.evaluation import detailed_validation
detailed_validation(sample_list, model, evaluation_path=&quot;evaluation&quot;)
</code></pre>

<hr />
<h4 id="detailed-validation">Detailed Validation</h4>
<pre><code class="python">detailed_validation(validation_samples, model, evaluation_path)
</code></pre>

<p>Function for detailed validation of a validation sample data set. The segmentation of these samples will be predicted with an already fitted model and evaluated.<br />
Normally, this method will be called automatically inside one of the three validation techniques. Nevertheless, it is possible to use the detailed validation method manually.</p>
<p>Be aware, that this function only predicts and evaluates the given samples. The detailed validation does NOT include any training process.</p>
<p><strong>Arguments:</strong><br />
- <strong>validation_samples:</strong> A list of sample indicies which will be used for validation.
- <strong>model:</strong> Instance of a Neural Network model class instance.
- <strong>evaluation_path:</strong> Path to the evaluation data directory. This directory will be created and used for storing all kinds of evaluation results during the validation processes.</p>
<p><strong>Returns:</strong>  None.</p>
<p><strong>Example:</strong>  </p>
<pre><code class="python">model = miscnn.Neural_Network(preprocessor=pp)

from miscnn.evaluation.detailed_validation import detailed_validation
detailed_validation(validation_samples, model, evaluation_path=&quot;evaluation&quot;)
</code></pre>

<hr />
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../Architectures/" class="btn btn-neutral float-right" title="Architectures">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../Model/" class="btn btn-neutral" title="Neural Network Model"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>
  <p> <a href="/">Home</a> | <a href="/Install/">Installation</a> | <a href="/Usage/">Usage</a> | <a href="/Examples/">Examples</a> | <a href="/Credits/">Contact</a></p>
  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/frankkramer-lab/MIScnn/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../Model/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../Architectures/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script type="text/javascript" defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
