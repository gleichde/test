<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Architectures - MISCnn wiki</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Source+Sans+Pro:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Architectures";
    var mkdocs_page_input_path = "Architectures.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <a href="">
        <div class="miscnn-logo">
          <img src="https://raw.githubusercontent.com/gleichde/gleichde.github.io/master/logo.JPG" class="miscnn-logo-img">
          
        </div>
      </a>

      <div class="wy-side-nav-search">
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Getting Started</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../Home/">What is MIScnn?</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../Install/">Install</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../Usage/">Basic Usage</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../Tutorials/">Tutorials</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../Examples/">Examples</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Documentation - Core</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../Data-IO/">Data I/O</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../Preprocessor/">Preprocessor</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../Data-Augmentation/">Data Augmentation</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../Model/">Neural Network Model</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../Validation/">Validation Techniques</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Documentation - Interfaces</span></p>
                <ul class="current">
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">Architectures</a>
    <ul class="current">
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../Metrics/">Metrics</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../Subfunctions/">Subfunctions</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../IO-Interfaces/">I/O Interfaces</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Documentation - Extras</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../Sample/">Sample</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Other</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../Contribute/">How to Contribute</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../Credits/">Author and Contacts</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">MISCnn wiki</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        
          <li>Documentation - Interfaces &raquo;</li>
        
      
    
    <li>Architectures</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/frankkramer-lab/MIScnn/"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <p>The selection of a deep learning or convolutional neural network model is the most important step in a medical image segmentation pipeline. But there is a variety of model architectures and each has different strengths and weaknesses. MIScnn features an open model interface to load and switch between provided state-of-the-art convolutional neural network models like the popular U-Net model.</p>
<p>Models are represented with the open-source neural network library Keras which provides an user-friendly API for commonly used neural-network building blocks on top of TensorFlow.</p>
<p>The already implemented models are highly configurable by definable number of neurons, custom input sizes, optional dropout and batch normalization layers or enhanced architecture versions like the Optimized High Resolution Dense-U-Net model. Additionally, MIScnn offers architectures for 3D, as well as 2D medical image segmentation.</p>
<p>Besides the flexibility in switching between already implemented models, the open model interface enables the ability for custom deep learning model implementations and simple integrating these custom models into the MIScnn pipeline.</p>
<h2 id="usage-of-miscnn-architectures">Usage of MIScnn Architectures</h2>
<p>An Architecture can be passed to the Neural Network class initialization. The Neural Network class automatically uses provided Architecture as model.</p>
<pre><code class="python"># Import desired Architecture
from miscnn.neural_network.architecture.unet.residual import Architecture

# Initialize Architecture
unet_residual = Architecture(activation=&quot;softmax&quot;)

# Pass Architecture to Neural Network Class
model = Neural_Network(preprocessor=pp, architecture=unet_residual)
</code></pre>

<h2 id="available-architectures-provided-by-miscnn">Available Architectures provided by MIScnn</h2>
<h4 id="standard-u-net">Standard U-Net</h4>
<p>The popular and state-of-the-art architecture of medical image segmentation is the standard U-Net. The architecture consists of a contracting path to capture context and a symmetric expanding path that enables precise localization.<br />
Reference:<br />
Olaf Ronneberger, Philipp Fischer, Thomas Brox. 18 May 2015. U-Net: Convolutional Networks for Biomedical Image Segmentation. MICCAI 2015</p>
<p><strong>Arguments:</strong><br />
- <strong>n_filters</strong>: Number of filters in the first layer. Default 32.
- <strong>depth</strong>: Number of layers of the U-Net structure. Default 4.
- <strong>activation</strong>: Activation function for the final output layer. Default 'sigmoid'.
- <strong>batch_normalization</strong>: Boolean option, whether batch normalization should be applied or not. Default True.</p>
<p><strong>Example:</strong></p>
<pre><code class="python">from miscnn.neural_network.architecture.unet.standard import Architecture
unet_standard = Architecture(n_filters=24, batch_normalization=False)

model = Neural_Network(preprocessor=pp, architecture=unet_standard)
</code></pre>

<hr />
<h4 id="plain-u-net">Plain U-Net</h4>
<p>A plain variant of the popular U-Net architecture based on the winning model architecture of Fabian Isensee at the Kidney Tumor Segmentation Challenge 2019.<br />
Reference: <a href="http://arxiv.org/abs/1908.02182">http://arxiv.org/abs/1908.02182</a></p>
<p><strong>Arguments:</strong><br />
- <strong>activation</strong>: Activation function for the final output layer. Default 'softmax'.
- <strong>batch_normalization</strong>: Boolean option, whether batch normalization should be applied or not. Default True.</p>
<p><strong>Example:</strong></p>
<pre><code class="python">from miscnn.neural_network.architecture.unet.plain import Architecture
unet_plain = Architecture()

model = Neural_Network(preprocessor=pp, architecture=unet_plain)
</code></pre>

<hr />
<h4 id="residual-u-net">Residual U-Net</h4>
<p>The Residual variant of the popular U-Net architecture. It is an improved version of the standard U-Net and uses an additional add layer after each convolutional block (2x conv layers). Be aware, that a residual architecture requires additional GPU RAM.<br />
Reference:<br />
Zhang Zhengxin, Liu Qingjie, Wang Yunhong. 2018. Road Extraction by Deep Residual U-Net. IEEE Geoscience and Remote Sensing Letters.</p>
<p><strong>Arguments:</strong><br />
- <strong>n_filters</strong>: Number of filters in the first layer. Default 32.
- <strong>depth</strong>: Number of layers of the U-Net structure. Default 4.
- <strong>activation</strong>: Activation function for the final output layer. Default 'sigmoid'.
- <strong>batch_normalization</strong>: Boolean option, whether batch normalization should be applied or not. Default True.</p>
<p><strong>Example:</strong></p>
<pre><code class="python">from miscnn.neural_network.architecture.unet.residual import Architecture
unet_residual = Architecture()

model = Neural_Network(preprocessor=pp, architecture=unet_residual)
</code></pre>

<hr />
<h4 id="compact-u-net">Compact U-Net</h4>
<p>The Compact variant of the popular U-Net architecture. It is an improved version of the standard U-Net and uses an additional concatenate layer after each convolutional block (2x conv layers). Be aware, that a compact architecture requires additional GPU RAM.<br />
Reference: <a href="https://arxiv.org/pdf/1512.03385.pdf">https://arxiv.org/pdf/1512.03385.pdf</a></p>
<p><strong>Arguments:</strong><br />
- <strong>n_filters</strong>: Number of filters in the first layer. Default 32.
- <strong>depth</strong>: Number of layers of the U-Net structure. Default 4.
- <strong>activation</strong>: Activation function for the final output layer. Default 'sigmoid'.
- <strong>batch_normalization</strong>: Boolean option, whether batch normalization should be applied or not. Default True.</p>
<p><strong>Example:</strong></p>
<pre><code class="python">from miscnn.neural_network.architecture.unet.compact import Architecture
unet_compact = Architecture()

model = Neural_Network(preprocessor=pp, architecture=unet_compact)
</code></pre>

<hr />
<h4 id="dense-u-net">Dense U-Net</h4>
<p>The Dense variant of the popular U-Net architecture. It is an improved version of the standard U-Net and uses multiple concatenate layers in each convolutional block (2x conv layers). Be aware, that a dense architecture requires additional GPU RAM.<br />
Reference: <a href="https://arxiv.org/pdf/1512.03385.pdf">https://arxiv.org/pdf/1512.03385.pdf</a></p>
<p><strong>Arguments:</strong><br />
- <strong>n_filters</strong>: Number of filters in the first layer. Default 32.
- <strong>depth</strong>: Number of layers of the U-Net structure. Default 4.
- <strong>activation</strong>: Activation function for the final output layer. Default 'sigmoid'.
- <strong>batch_normalization</strong>: Boolean option, whether batch normalization should be applied or not. Default True.</p>
<p><strong>Example:</strong></p>
<pre><code class="python">from miscnn.neural_network.architecture.unet.dense import Architecture
unet_dense = Architecture()

model = Neural_Network(preprocessor=pp, architecture=unet_dense)
</code></pre>

<hr />
<h4 id="multires-u-net">MultiRes U-Net</h4>
<p>The MultiRes variant of the popular U-Net architecture. It is an improved version of the standard U-Net and contains some small modifications to improve upon the already state-of-the-art U-Net model.<br />
Reference:<br />
Nabil Ibtehaz and M. Sohel Rahman. February 12, 2019. MultiResUNet : Rethinking the U-Net Architecture for Multimodal Biomedical Image Segmentation. Neural Networks: Volume 121, January 2020, Pages 74-87   </p>
<p><strong>Arguments:</strong><br />
- <strong>activation</strong>: Activation function for the final output layer. Default 'sigmoid'.</p>
<p><strong>Example:</strong></p>
<pre><code class="python">from miscnn.neural_network.architecture.unet.MultiRes import Architecture
unet_multires = Architecture()

model = Neural_Network(preprocessor=pp, architecture=unet_multires)
</code></pre>

<hr />
<h2 id="creation-of-custom-architectures">Creation of custom Architectures</h2>
<p>todo</p>
<pre><code class="python">todo
</code></pre>

<h2 id="abstract-base-class-for-architectures">Abstract Base Class for Architectures</h2>
<p>MIScnn also offers a documented Abstract Base Class for simple creation of custom Architectures for your specific needs.</p>
<p>An Architecture inherits the abstract_architecture class with the following methods: create_model_2D, create_model_3D.</p>
<pre><code class="python">#-----------------------------------------------------#
#                   Library imports                   #
#-----------------------------------------------------#
# External libraries
from abc import ABC, abstractmethod

#-----------------------------------------------------#
#     Abstract Interface for an Architecture class    #
#-----------------------------------------------------#
&quot;&quot;&quot; An abstract base class for a Architecture class.

Methods:
    __init__                Object creation function
    create_model_2D:        Creating a 2D Keras model
    create_model_3D:        Creating a 3D Keras model
&quot;&quot;&quot;
class Abstract_Architecture(ABC):
    #---------------------------------------------#
    #                   __init__                  #
    #---------------------------------------------#
    &quot;&quot;&quot; Functions which will be called during the Architecture object creation.
        This function can be used to pass variables and options in the Architecture instance.
        The are no mandatory required parameters for the initialization.

        Parameter:
            None
        Return:
            None
    &quot;&quot;&quot;
    @abstractmethod
    def __init__(self):
        pass
    #---------------------------------------------#
    #               Create 2D Model               #
    #---------------------------------------------#
    &quot;&quot;&quot; Create the 2D version of a deep learning or convolutional neural network model.
        This function will be called inside the pipeline and have to return a functional
        Keras model for 2D images. The model itself should be created here or in a subfunction
        called by this function.
        It is possible to pass configurations through the initialization function of this class.

        Parameter:
            input_shape (Tuple):        Input shape of the image data for the first model layer
            n_labels (Integer):         Number of classes/labels of the segmentation (by default binary problem)
        Return:
            model (Keras model):        A Keras model
    &quot;&quot;&quot;
    @abstractmethod
    def create_model_2D(self, input_shape, n_labels=2):
        pass
    #---------------------------------------------#
    #               Create 3D Model               #
    #---------------------------------------------#
    &quot;&quot;&quot; Create the 3D version of a deep learning or convolutional neural network model.
        This function will be called inside the pipeline and have to return a functional
        Keras model for 3D images. The model itself should be created here or in a subfunction
        called by this function.
        It is possible to pass configurations through the initialization function of this class.

        Parameter:
            input_shape (Tuple):        Input shape of the image data for the first model layer
            n_labels (Integer):         Number of classes/labels of the segmentation (by default binary problem)
        Return:
            model (Keras model):        A Keras model
    &quot;&quot;&quot;
    @abstractmethod
    def create_model_3D(self, input_shape, n_labels=2):
        pass
</code></pre>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../Metrics/" class="btn btn-neutral float-right" title="Metrics">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../Validation/" class="btn btn-neutral" title="Validation Techniques"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>
  <p> <a href="/">Home</a> | <a href="/Install/">Installation</a> | <a href="/Usage/">Usage</a> | <a href="/Examples/">Examples</a> | <a href="/Credits/">Contact</a></p>
  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/frankkramer-lab/MIScnn/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../Validation/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../Metrics/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script type="text/javascript" defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
